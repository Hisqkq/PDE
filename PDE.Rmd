---
title: "PD"
author: "Hamad Tria, Baptiste Gerbouin, Alexandre Leys, Louis Delignac, Th√©o Lavandier"
output: html_document
---

```{r}
oiseaux <- read.csv("data/Oiseaux_up_to_2023.csv", header = TRUE, sep = "\t")
LUP <- read.csv("data/LandUsePer_BM_2023_cartoISea.csv", header = TRUE)
```


```{r}
# CREATE A NEW COLUMN IN THE OISEAUX DATAFRAME THAT CONTAINS THE LATIN NAME OF THE BIRD
# THE LATIN NAME IS THE FIRST NAME IN THE "Nom_Taxon_Cite" COLUMN
# IF THE NAME CONTAINS A "|", THE LATIN NAME IS THE FIRST NAME BEFORE THE "|"

# Split the names
split_latin <- function(name) {
  latin <- rep(NA, length(name))
  for (i in 1:length(name)) {
    if ("|" %in% unlist(strsplit(name[i], " | "))) {
      latin[i] <- unlist(strsplit(name[i], " \\| "))[1]
    } else {
      latin[i] <- name[i]
    }
  }
  return (latin)
}

# Test the function
full_names <- as.vector(oiseaux$Nom_Taxon_Cite)
only_latin <- split_latin(full_names)
length(unique(only_latin)) == length(unique(oiseaux$Code_Ref))

# Add the new column to the dataframe
oiseaux$latin <- only_latin
```



